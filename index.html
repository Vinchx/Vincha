<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>18! My Baddie</title>
    <link rel="shortcut icon" href="./images/favicon.svg" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.152.2/build/three.module.js",
          "three/addons/controls/OrbitControls.js": "https://unpkg.com/three@0.152.2/examples/jsm/controls/OrbitControls.js",
          "three/examples/jsm/loaders/FontLoader.js": "https://unpkg.com/three@0.152.2/examples/jsm/loaders/FontLoader.js",
          "three/examples/jsm/geometries/TextGeometry.js": "https://unpkg.com/three@0.152.2/examples/jsm/geometries/TextGeometry.js"
        }
      }
    </script>
  </head>

  <body>
    <div id="countdown-overlay">
      <div class="countdown-content">
        <h1>âœ¨ Galaxy Love âœ¨</h1>
        <p>Website akan terbuka pada jam 12:00 malam</p>
        <div id="countdown-timer">
          <div class="time-unit">
            <span id="hours">00</span>
            <label>Jam</label>
          </div>
          <div class="time-unit">
            <span id="minutes">00</span>
            <label>Menit</label>
          </div>
          <div class="time-unit">
            <span id="seconds">00</span>
            <label>Detik</label>
          </div>
        </div>
        <div class="stars-animation"></div>
      </div>
    </div>

    <div id="container"></div>

    <div id="landscape-warning">
      <div class="warning-content">
        <div class="rotate-icon"></div>
        <h1>Stellar Bloom</h1>
        <div class="stars-bg"></div>
      </div>
    </div>

    <div id="dark-overlay"></div>
    <div id="info"></div>
    <h1
      style="
        position: fixed;
        bottom: 10px;
        right: 10px;
        font-size: 18px;
        font-family: Arial, sans-serif;
        color: white;
        background: rgba(0, 0, 0, 0.4);
        padding: 6px 12px;
        border-radius: 8px;
        z-index: 9999;
      "
    >
      Create by Suguss
    </h1>
    <button id="musicButton" disabled>Mainkan Musik ðŸŽµ</button>
    <div id="player"></div>
    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
      let player;
      const startTime = 0;
      const endTime = 240;
      window.onYouTubeIframeAPIReady = function () {
        player = new YT.Player("player", {
          height: "0",
          width: "0",
          videoId: "X-EK60rmcQs",
          playerVars: {
            autoplay: 0,
            start: startTime,
            end: endTime,
            controls: 0,
            loop: 1,
            playlist: "X-EK60rmcQs",
          },
          events: {
            onReady: () => {
              const btn = document.getElementById("musicButton");
              btn.disabled = false;
              btn.innerText = "Mainkan Musik ðŸŽµ";
              player.setVolume(60);
            },
            onStateChange: (event) => {
              if (event.data === YT.PlayerState.ENDED) {
                player.seekTo(startTime);
              }
            },
          },
        });
      };

      document.getElementById("musicButton").addEventListener("click", () => {
        if (player) {
          player.playVideo();
          document.getElementById("musicButton").style.display = "none";
        }
      });
    </script>

    <script>
      // Countdown Logic
      function initCountdown() {
        const countdownOverlay = document.getElementById("countdown-overlay");
        const container = document.getElementById("container");
        const musicButton = document.getElementById("musicButton");

        // Set target time jam 12 malam (00:00)
        const now = new Date();
        const targetTime = new Date(
          now.getFullYear(),
          now.getMonth(),
          now.getDate() + 1,
          0,
          0,
          0
        );

        function updateCountdown() {
          const now = new Date();
          const timeLeft = targetTime - now;

          if (timeLeft <= 0) {
            // Waktu sudah tiba, tampilkan website
            countdownOverlay.style.display = "none";
            container.style.display = "block";
            musicButton.style.display = "block";
            return;
          }

          // Hitung jam, menit, detik tersisa
          const hours = Math.floor(timeLeft / (1000 * 60 * 60));
          const minutes = Math.floor(
            (timeLeft % (1000 * 60 * 60)) / (1000 * 60)
          );
          const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

          // Update display
          document.getElementById("hours").textContent = hours
            .toString()
            .padStart(2, "0");
          document.getElementById("minutes").textContent = minutes
            .toString()
            .padStart(2, "0");
          document.getElementById("seconds").textContent = seconds
            .toString()
            .padStart(2, "0");

          // Hide website content
          countdownOverlay.style.display = "flex";
          container.style.display = "none";
          musicButton.style.display = "none";
        }

        // Update setiap detik
        updateCountdown();
        setInterval(updateCountdown, 1000);
      }

      // Start countdown when page loads
      // window.addEventListener("load", initCountdown); // COUNTDOWN DISABLED
    </script>

    <script type="module" src="script.js"></script>
  </body>
</html>
